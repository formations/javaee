<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="495px" preserveAspectRatio="none" style="width:834px;height:495px;" version="1.1" viewBox="0 0 834 495" width="834px" zoomAndPan="magnify"><defs><filter height="300%" id="f2ksh7sl1j138" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f2ksh7sl1j138)" height="248.6641" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="32" y="96.2969"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="32" x2="32" y1="96.2969" y2="344.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="42" y1="96.2969" y2="344.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="32" x2="42" y1="96.2969" y2="96.2969"/><rect fill="#FFFFFF" filter="url(#f2ksh7sl1j138)" height="92.2656" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="32" y="372.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="32" x2="32" y1="372.9609" y2="465.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="42" y1="372.9609" y2="465.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="32" x2="42" y1="465.2266" y2="465.2266"/><rect fill="#FFFFFF" filter="url(#f2ksh7sl1j138)" height="234.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="145" y="102.2969"/><rect fill="#FFFFFF" filter="url(#f2ksh7sl1j138)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="150" y="168.5625"/><rect fill="#FFFFFF" filter="url(#f2ksh7sl1j138)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="290" y="241.6953"/><rect fill="#FFFFFF" filter="url(#f2ksh7sl1j138)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="434.5" y="286.8281"/><rect fill="#FFFFFF" filter="url(#f2ksh7sl1j138)" height="86.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="434.5" y="378.9609"/><rect fill="#FFFFFF" filter="url(#f2ksh7sl1j138)" height="43.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="610.5" y="408.0938"/><rect fill="#FFFFFF" filter="url(#f2ksh7sl1j138)" height="105.3984" style="stroke: #000000; stroke-width: 2.0;" width="466.5" x="66" y="218.5625"/><rect fill="#FFFFFF" height="45.1328" style="stroke: none; stroke-width: 1.0;" width="466.5" x="66" y="278.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="37" x2="37" y1="86.2969" y2="344.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="37" x2="37" y1="344.9609" y2="372.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="37" x2="37" y1="372.9609" y2="483.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="150" x2="150" y1="86.2969" y2="344.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="150" x2="150" y1="344.9609" y2="372.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="150" x2="150" y1="372.9609" y2="483.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="294.5" x2="294.5" y1="86.2969" y2="344.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="294.5" x2="294.5" y1="344.9609" y2="372.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="294.5" x2="294.5" y1="372.9609" y2="483.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="439.5" x2="439.5" y1="86.2969" y2="344.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="439.5" x2="439.5" y1="344.9609" y2="372.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="439.5" x2="439.5" y1="372.9609" y2="483.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="615.5" x2="615.5" y1="86.2969" y2="344.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="615.5" x2="615.5" y1="344.9609" y2="372.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="615.5" x2="615.5" y1="372.9609" y2="483.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="769" x2="769" y1="86.2969" y2="344.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="769" x2="769" y1="344.9609" y2="372.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="769" x2="769" y1="372.9609" y2="483.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="52" x="8" y="82.9951">c:Client</text><ellipse cx="37" cy="13" fill="#FEFECE" filter="url(#f2ksh7sl1j138)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M37,21 L37,48 M24,29 L50,29 M37,48 L24,63 M37,48 L50,63 " fill="none" filter="url(#f2ksh7sl1j138)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="142" x="76" y="82.9951">f:AuthenticationFilter</text><path d="M129.5,42 L129.5,66 M129.5,54 L146.5,54 " fill="none" filter="url(#f2ksh7sl1j138)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="158.5" cy="54" fill="#FEFECE" filter="url(#f2ksh7sl1j138)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f2ksh7sl1j138)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="243.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="85" x="250.5" y="70.9951">m:MainPage</text><rect fill="#FEFECE" filter="url(#f2ksh7sl1j138)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="162" x="356.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="148" x="363.5" y="70.9951">a:AuthenticationPage</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="160" x="532.5" y="82.9951">a:AuthenticationServlet</text><ellipse cx="615.5" cy="54" fill="#FEFECE" filter="url(#f2ksh7sl1j138)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="611.5,42,617.5,37,615.5,42,617.5,47,611.5,42" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f2ksh7sl1j138)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="712" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="97" x="719" y="70.9951">s:HttpSession</text><rect fill="#FFFFFF" filter="url(#f2ksh7sl1j138)" height="248.6641" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="32" y="96.2969"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="32" x2="32" y1="96.2969" y2="344.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="42" y1="96.2969" y2="344.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="32" x2="42" y1="96.2969" y2="96.2969"/><rect fill="#FFFFFF" filter="url(#f2ksh7sl1j138)" height="92.2656" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="32" y="372.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="32" x2="32" y1="372.9609" y2="465.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="42" y1="372.9609" y2="465.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="32" x2="42" y1="465.2266" y2="465.2266"/><rect fill="#FFFFFF" filter="url(#f2ksh7sl1j138)" height="234.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="145" y="102.2969"/><rect fill="#FFFFFF" filter="url(#f2ksh7sl1j138)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="150" y="168.5625"/><rect fill="#FFFFFF" filter="url(#f2ksh7sl1j138)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="290" y="241.6953"/><rect fill="#FFFFFF" filter="url(#f2ksh7sl1j138)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="434.5" y="286.8281"/><rect fill="#FFFFFF" filter="url(#f2ksh7sl1j138)" height="86.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="434.5" y="378.9609"/><rect fill="#FFFFFF" filter="url(#f2ksh7sl1j138)" height="43.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="610.5" y="408.0938"/><polygon fill="#A80036" points="133,98.2969,143,102.2969,133,106.2969,137,102.2969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="139" y1="102.2969" y2="102.2969"/><polygon fill="#A80036" points="757.5,127.4297,767.5,131.4297,757.5,135.4297,761.5,131.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="155" x2="763.5" y1="131.4297" y2="131.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="162" y="126.3638">getAttribute("auth")</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="160" x2="202" y1="160.5625" y2="160.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="202" x2="202" y1="160.5625" y2="173.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="161" x2="202" y1="173.5625" y2="173.5625"/><polygon fill="#A80036" points="171,169.5625,161,173.5625,171,177.5625,167,173.5625" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="167" y="155.4966">check attribute</text><path d="M66,218.5625 L130,218.5625 L130,225.5625 L120,235.5625 L66,235.5625 L66,218.5625 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="105.3984" style="stroke: #000000; stroke-width: 2.0;" width="466.5" x="66" y="218.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="81" y="231.6294">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="186" x="145" y="230.7729">[attribute exists and is valid]</text><polygon fill="#A80036" points="278,237.6953,288,241.6953,278,245.6953,282,241.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="155" x2="284" y1="241.6953" y2="241.6953"/><polygon fill="#A80036" points="166,266.8281,156,270.8281,166,274.8281,162,270.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="160" x2="294" y1="270.8281" y2="270.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="172" y="265.7622">return main page</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="66" x2="532.5" y1="279.8281" y2="279.8281"/><polygon fill="#A80036" points="422.5,282.8281,432.5,286.8281,422.5,290.8281,426.5,286.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="155" x2="428.5" y1="286.8281" y2="286.8281"/><polygon fill="#A80036" points="166,311.9609,156,315.9609,166,319.9609,162,315.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="160" x2="438.5" y1="315.9609" y2="315.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="172" y="310.895">return authentication page</text><polygon fill="#A80036" points="53,332.9609,43,336.9609,53,340.9609,49,336.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="47" x2="149" y1="336.9609" y2="336.9609"/><polygon fill="#A80036" points="422.5,374.9609,432.5,378.9609,422.5,382.9609,426.5,378.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="428.5" y1="378.9609" y2="378.9609"/><polygon fill="#A80036" points="598.5,404.0938,608.5,408.0938,598.5,412.0938,602.5,408.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="444.5" x2="604.5" y1="408.0938" y2="408.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="451.5" y="403.0278">authenticate</text><polygon fill="#A80036" points="757.5,433.2266,767.5,437.2266,757.5,441.2266,761.5,437.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="620.5" x2="763.5" y1="437.2266" y2="437.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="627.5" y="432.1606">setAttribute("auth")</text><polygon fill="#A80036" points="455.5,447.2266,445.5,451.2266,455.5,455.2266,451.5,451.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="449.5" x2="614.5" y1="451.2266" y2="451.2266"/><polygon fill="#A80036" points="48,461.2266,38,465.2266,48,469.2266,44,465.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="42" x2="438.5" y1="465.2266" y2="465.2266"/><!--
@startuml
actor "<u>c:Client</u>" as client
boundary "<u>f:AuthenticationFilter</u>" as filter
participant "<u>m:MainPage</u>" as main
participant "<u>a:AuthenticationPage</u>" as notauth
control "<u>a:AuthenticationServlet</u>" as auth
participant "<u>s:HttpSession</u>" as session
activate client
client -> filter
activate filter
filter -> session: getAttribute("auth")
filter -> filter: check attribute
activate filter
deactivate filter
alt attribute exists and is valid
 filter -> main
 activate main
 filter <- - main: return main page
 deactivate main
else
 filter -> notauth
 activate notauth
 filter <- - notauth: return authentication page
 deactivate notauth
end
client <- - filter
deactivate filter
...
client -> notauth
activate notauth
notauth -> auth: authenticate
activate auth
auth -> session: setAttribute("auth")
notauth <- - auth
deactivate auth
client <- - notauth
deactivate notauth
deactivate client
hide footbox
@enduml

PlantUML version 1.2019.06(Fri May 24 17:10:25 UTC 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.2+9
Operating System: Linux
OS Version: 4.15.0-1028-gcp
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>