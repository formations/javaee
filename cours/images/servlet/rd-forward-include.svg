<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" preserveAspectRatio="true" version="1.1" viewBox="0 0 844 686" zoomAndPan="magnify"><defs><filter height="300%" id="fp9ru4yzdcn5m" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fp9ru4yzdcn5m)" height="568.4688" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="57" y="96.2969"/><rect fill="#FFFFFF" filter="url(#fp9ru4yzdcn5m)" height="547.4688" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="271" y="117.2969"/><rect fill="#FFFFFF" filter="url(#fp9ru4yzdcn5m)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="276" y="251.6328"/><rect fill="#FFFFFF" filter="url(#fp9ru4yzdcn5m)" height="71.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="512" y="339.8984"/><rect fill="#FFFFFF" filter="url(#fp9ru4yzdcn5m)" height="71.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="512" y="513.2344"/><rect fill="#FFFFFF" filter="url(#fp9ru4yzdcn5m)" height="43.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="648.5" y="354.0313"/><rect fill="#FFFFFF" filter="url(#fp9ru4yzdcn5m)" height="43.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="648.5" y="527.3672"/><rect fill="#FFFFFF" filter="url(#fp9ru4yzdcn5m)" height="525.3359" style="stroke: #000000; stroke-width: 2.0;" width="819" x="13" y="132.4297"/><rect fill="#FFFFFF" height="449.9375" style="stroke: none; stroke-width: 1.0;" width="819" x="13" y="207.8281"/><rect fill="#FFFFFF" filter="url(#fp9ru4yzdcn5m)" height="349" style="stroke: #000000; stroke-width: 2.0;" width="799" x="23" y="301.7656"/><rect fill="#FFFFFF" height="202.4688" style="stroke: none; stroke-width: 1.0;" width="799" x="23" y="448.2969"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="62" x2="62" y1="86.2969" y2="674.7656"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="275.5" x2="275.5" y1="86.2969" y2="674.7656"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="517" x2="517" y1="86.2969" y2="674.7656"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="653" x2="653" y1="86.2969" y2="674.7656"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="759" x2="759" y1="86.2969" y2="674.7656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="52" x="33" y="82.9951">c:Client</text><line style="stroke: #000000; stroke-width: 1.0;" x1="33" x2="85" y1="84.9951" y2="84.9951"/><ellipse cx="62" cy="13" fill="#FEFECE" filter="url(#fp9ru4yzdcn5m)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M62,21 L62,48 M49,29 L75,29 M62,48 L49,63 M62,48 L75,63 " fill="#FEFECE" filter="url(#fp9ru4yzdcn5m)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fp9ru4yzdcn5m)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="232.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="69" x="239.5" y="70.9951">s1:Servlet</text><line style="stroke: #000000; stroke-width: 1.0;" x1="239.5" x2="308.5" y1="72.9951" y2="72.9951"/><rect fill="#FEFECE" filter="url(#fp9ru4yzdcn5m)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="162" x="434" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="148" x="441" y="70.9951">d:RequestDispatcher</text><line style="stroke: #000000; stroke-width: 1.0;" x1="441" x2="589" y1="72.9951" y2="72.9951"/><rect fill="#FEFECE" filter="url(#fp9ru4yzdcn5m)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="610" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="69" x="617" y="70.9951">s2:Servlet</text><line style="stroke: #000000; stroke-width: 1.0;" x1="617" x2="686" y1="72.9951" y2="72.9951"/><rect fill="#FEFECE" filter="url(#fp9ru4yzdcn5m)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="101" x="707" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="87" x="714" y="70.9951">w:PrintWriter</text><line style="stroke: #000000; stroke-width: 1.0;" x1="714" x2="801" y1="72.9951" y2="72.9951"/><rect fill="#FFFFFF" filter="url(#fp9ru4yzdcn5m)" height="568.4688" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="57" y="96.2969"/><rect fill="#FFFFFF" filter="url(#fp9ru4yzdcn5m)" height="547.4688" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="271" y="117.2969"/><rect fill="#FFFFFF" filter="url(#fp9ru4yzdcn5m)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="276" y="251.6328"/><rect fill="#FFFFFF" filter="url(#fp9ru4yzdcn5m)" height="71.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="512" y="339.8984"/><rect fill="#FFFFFF" filter="url(#fp9ru4yzdcn5m)" height="71.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="512" y="513.2344"/><rect fill="#FFFFFF" filter="url(#fp9ru4yzdcn5m)" height="43.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="648.5" y="354.0313"/><rect fill="#FFFFFF" filter="url(#fp9ru4yzdcn5m)" height="43.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="648.5" y="527.3672"/><polygon fill="#A80036" points="259,113.2969,269,117.2969,259,121.2969,263,117.2969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="67" x2="265" y1="117.2969" y2="117.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="74" y="112.3638">HTTP request</text><rect fill="none" height="525.3359" style="stroke: #000000; stroke-width: 2.0;" width="819" x="13" y="132.4297"/><polygon fill="#EEEEEE" points="13,132.4297,77,132.4297,77,139.4297,67,149.4297,13,149.4297,13,132.4297" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="28" y="145.4966">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="105" x="92" y="144.6401">[simple request]</text><polygon fill="#A80036" points="747.5,166.5625,757.5,170.5625,747.5,174.5625,751.5,170.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="281" x2="753.5" y1="170.5625" y2="170.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="288" y="165.6294">write()</text><polygon fill="#A80036" points="78,195.6953,68,199.6953,78,203.6953,74,199.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="72" x2="270" y1="199.6953" y2="199.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="84" y="194.7622">response from s1</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="832" y1="208.8281" y2="208.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="18" y="219.0386">[else]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="286" x2="328" y1="243.7656" y2="243.7656"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="328" x2="328" y1="243.7656" y2="256.7656"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="287" x2="328" y1="256.7656" y2="256.7656"/><polygon fill="#A80036" points="297,252.7656,287,256.7656,297,260.7656,293,256.7656" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="293" y="238.6997">getRequestDispatcher("/servlet2")</text><rect fill="none" height="349" style="stroke: #000000; stroke-width: 2.0;" width="799" x="23" y="301.7656"/><polygon fill="#EEEEEE" points="23,301.7656,87,301.7656,87,308.7656,77,318.7656,23,318.7656,23,301.7656" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="38" y="314.8325">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="60" x="102" y="313.9761">[forward]</text><polygon fill="#A80036" points="500,335.8984,510,339.8984,500,343.8984,504,339.8984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="281" x2="506" y1="339.8984" y2="339.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="288" y="334.9653">forward(req, res)</text><polygon fill="#A80036" points="636.5,350.0313,646.5,354.0313,636.5,358.0313,640.5,354.0313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="522" x2="642.5" y1="354.0313" y2="354.0313"/><polygon fill="#A80036" points="747.5,379.0313,757.5,383.0313,747.5,387.0313,751.5,383.0313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="658.5" x2="753.5" y1="383.0313" y2="383.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="665.5" y="378.0981">write()</text><polygon fill="#A80036" points="533,393.1641,523,397.1641,533,401.1641,529,397.1641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="527" x2="652.5" y1="397.1641" y2="397.1641"/><polygon fill="#A80036" points="292,407.1641,282,411.1641,292,415.1641,288,411.1641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="286" x2="516" y1="411.1641" y2="411.1641"/><polygon fill="#A80036" points="78,436.1641,68,440.1641,78,444.1641,74,440.1641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="72" x2="270" y1="440.1641" y2="440.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="84" y="435.231">response from s2</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="822" y1="449.2969" y2="449.2969"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="57" x="28" y="459.5073">[include]</text><polygon fill="#A80036" points="747.5,480.1016,757.5,484.1016,747.5,488.1016,751.5,484.1016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="281" x2="753.5" y1="484.1016" y2="484.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="288" y="479.1685">write()</text><polygon fill="#A80036" points="500,509.2344,510,513.2344,500,517.2344,504,513.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="281" x2="506" y1="513.2344" y2="513.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="288" y="508.3013">include(req, resp)</text><polygon fill="#A80036" points="636.5,523.3672,646.5,527.3672,636.5,531.3672,640.5,527.3672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="522" x2="642.5" y1="527.3672" y2="527.3672"/><polygon fill="#A80036" points="747.5,552.3672,757.5,556.3672,747.5,560.3672,751.5,556.3672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="658.5" x2="753.5" y1="556.3672" y2="556.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="665.5" y="551.4341">write()</text><polygon fill="#A80036" points="533,566.5,523,570.5,533,574.5,529,570.5" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="527" x2="652.5" y1="570.5" y2="570.5"/><polygon fill="#A80036" points="292,580.5,282,584.5,292,588.5,288,584.5" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="286" x2="516" y1="584.5" y2="584.5"/><polygon fill="#A80036" points="747.5,609.5,757.5,613.5,747.5,617.5,751.5,613.5" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="281" x2="753.5" y1="613.5" y2="613.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="288" y="608.5669">write()</text><polygon fill="#A80036" points="78,638.6328,68,642.6328,78,646.6328,74,642.6328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="72" x2="270" y1="642.6328" y2="642.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="84" y="637.6997">response from s1 + s2 + s1</text><!--
@startuml
actor "<u>c:Client</u>" as client
participant "<u>s1:Servlet</u>" as servlet1
participant "<u>d:RequestDispatcher</u>" as dispatch
participant "<u>s2:Servlet</u>" as servlet2
participant "<u>w:PrintWriter</u>" as writer
activate client
 client -> servlet1: HTTP request
 activate servlet1
alt simple request
 servlet1 -> writer: write()
 client <- - servlet1: response from s1
else else
 servlet1 -> servlet1: getRequestDispatcher("/servlet2")
 activate servlet1
 deactivate servlet1
 alt forward
  servlet1 -> dispatch: forward(req, res)
  activate dispatch
  dispatch -> servlet2
  activate servlet2
  servlet2 -> writer: write()
  dispatch <- - servlet2
  deactivate servlet2
  servlet1 <- - dispatch
  deactivate dispatch
  client <- - servlet1: response from s2
 else include
  servlet1 -> writer: write()
  servlet1 -> dispatch: include(req, resp)
  activate dispatch
  dispatch -> servlet2
  activate servlet2
  servlet2 -> writer: write()
  dispatch <- - servlet2
  deactivate servlet2
  servlet1 <- - dispatch
  deactivate dispatch
  servlet1 -> writer: write()
  client <- - servlet1: response from s1 + s2 + s1
 end
end
deactivate servlet1
deactivate client
hide footbox
@enduml

PlantUML version 1.2017.16beta5(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>